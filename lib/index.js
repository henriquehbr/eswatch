#!/usr/bin/env node
import{b as o,c as h,g as w,h as m}from"./chunk.6EKTIFMR.js";import c from"esbuild";import f from"rimraf";import u from"readline";var r,n=u.createInterface({input:process.stdin,output:process.stdout}),a=()=>new Promise(async i=>{let t=o(),{entryPoints:s,outdir:e}=await w();t.clear&&console.clear(),r?.kill(),t.run?(n.pause(),r=await m(),r.on("close",()=>{n.resume(),t.watch?i():process.exit()})):(console.log(`${s.join(", ")} built successfully on ${e}`),n.close(),i())}),l=async()=>{let i=o(),t=await h();!i.keepfiles&&f.sync(t.outdir);let s=i.watch&&await c.startService(),e=(s||c).build.bind(void 0,t),p=[e,a];return async()=>{for(let d of p)await d()}},b=async()=>{let i=o();if(i.version){let{displayVersion:s}=await import("./displayVersion.js");return s()}let t=await l();i.watch?(await import("chokidar")).watch(i.watch).on("ready",async()=>await t()).on("change",async()=>await t()):await t()};b();
