#!/usr/bin/env node
import{b as o,c as f,e as u,h as m}from"./chunk.ZQWZSB26.js";import a from"esbuild";import h from"rimraf";import d from"readline";var r,n=d.createInterface({input:process.stdin,output:process.stdout}),c=()=>new Promise(async t=>{let i=o(),{entryPoints:s,outdir:e}=await m();i.clear&&console.clear(),r?.kill(),i.run?(n.pause(),r=u(i),r.on("close",()=>{n.resume(),i.watch?t():process.exit()})):(console.log(`${s.join(", ")} built successfully on ${e}`),n.close(),t())}),l=async()=>{let t=o(),i=await f();!t.keepfiles&&h.sync(i.outdir);let s=t.watch&&await a.startService(),e=(s?s.build:a.build).bind(void 0,i),p=[e(),c()];return async()=>await Promise.all(p)},w=async()=>{let t=o();if(t.version){let{displayVersion:s}=await import("./displayVersion.js");return s()}let i=await l();t.watch&&(await import("chokidar")).watch(t.watch).on("ready",i).on("change",i)};w();
